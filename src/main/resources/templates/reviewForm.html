<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>리뷰 작성</title>
    <link rel="stylesheet" href="/css/reviewForm.css"> <!-- CSS 별도 분리 -->
</head>
<body>
    <h1>리뷰 작성</h1>

    <form th:action="@{/review/insert}" th:object="${reviewDto}" method="post">
        <input type="hidden" name="movieNum" th:value="${movieNum}">

        <!-- 제목 + 작성자 ID -->
        <div style="display: flex; align-items: center; gap: 10px;">
            <label for="reviewTitle">제목:</label>
            <input type="text" id="reviewTitle" name="reviewTitle" th:field="*{reviewTitle}" required style="flex: 1;">
            <span th:text="'작성자: ' + ${reviewDto.userId}" style="white-space: nowrap;"></span>
        </div>
        <br>

        <!-- 내용 -->
        <label for="reviewContent">내용:</label><br>
        <textarea id="reviewContent" name="reviewContent" th:field="*{reviewContent}" rows="5" required></textarea><br><br>

        <!-- 평점: 이미지 기반 별점 입력 -->
        <label>평점 (0 ~ 5):</label><br>
        <div class="star-rating">
            <input type="radio" id="star5" name="reviewRating" value="5.0"><label for="star5" title="5점"></label>
            <input type="radio" id="star4_5" name="reviewRating" value="4.5"><label for="star4_5" title="4.5점"></label>
            <input type="radio" id="star4" name="reviewRating" value="4.0"><label for="star4" title="4점"></label>
            <input type="radio" id="star3_5" name="reviewRating" value="3.5"><label for="star3_5" title="3.5점"></label>
            <input type="radio" id="star3" name="reviewRating" value="3.0"><label for="star3" title="3점"></label>
            <input type="radio" id="star2_5" name="reviewRating" value="2.5"><label for="star2_5" title="2.5점"></label>
            <input type="radio" id="star2" name="reviewRating" value="2.0"><label for="star2" title="2점"></label>
            <input type="radio" id="star1_5" name="reviewRating" value="1.5"><label for="star1_5" title="1.5점"></label>
            <input type="radio" id="star1" name="reviewRating" value="1.0"><label for="star1" title="1점"></label>
            <input type="radio" id="star0_5" name="reviewRating" value="0.5"><label for="star0_5" title="0.5점"></label>
        </div>
        <br><br>

        <button type="submit">리뷰 등록</button>
    </form>

    <br>
    <button th:onclick="|window.location.href='/review/reviews/' + ${movieNum}|">취소</button>
</body>
</html>

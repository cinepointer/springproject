<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CinePointer - 메인</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/splide@4.0.7/dist/js/splide.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/splide@4.0.7/dist/css/splide.min.css">
</head>
<body>
    <!-- 공통 헤더 -->
    <header>
        <div class="container nav-flex">
            <a href="/" class="logo">CinePointer</a>
            <nav>
                <ul>
                    <li><a href="/" class="active">메인</a></li>
                    <li><a href="/movies">영화</a></li>
                    <li><a href="/myPage">마이페이지</a></li>
                </ul>
            </nav>
            <div class="nav-actions">
                <a href="/signUp" class="btn nav-btn">회원가입</a>
                <a href="/signIn" class="btn nav-btn">로그인</a>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1>인기 영화</h1>
            <!-- 인기 영화 슬라이더 -->
            <div id="popular-slider" class="splide" style="margin-bottom:40px;">
                <div class="splide__track">
                    <ul class="splide__list">
                        <li class="splide__slide" th:each="movie : ${popularMovies}">
                            <a th:href="@{/movies/{id}(id=${movie.id})}">
                                <img th:src="${movie.posterUrl}" alt="영화 포스터">
                                <div class="slide-title" th:text="${movie.title}">영화 제목</div>
                                <div class="slide-desc" th:text="${movie.director}">감독</div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 최신 개봉작 -->
            <section>
                <h2>최신 개봉작</h2>
                <div class="movie-list" th:each="movie : ${latestMovies}">
                    <a th:href="@{/movies/{id}(id=${movie.id})}">
                        <img th:src="${movie.posterUrl}" alt="포스터">
                        <div th:text="${movie.title}">영화 제목</div>
                    </a>
                </div>
            </section>

            <!-- 장르별 영화 섹션 -->
            <section>
                <h2>장르별 영화</h2>
                <div th:each="genre : ${genres}">
                    <h3 th:text="${genre.name}">장르명</h3>
                    <div class="movie-list" th:each="movie : ${genre.movies}">
                        <a th:href="@{/movies/{id}(id=${movie.id})}">
                            <img th:src="${movie.posterUrl}" alt="포스터">
                            <div th:text="${movie.title}">영화 제목</div>
                        </a>
                    </div>
                </div>
            </section>

            <!-- 추천 영화 섹션 -->
            <section>
                <h2>추천 영화</h2>
                <div class="movie-list" th:each="movie : ${recommendedMovies}">
                    <a th:href="@{/movies/{id}(id=${movie.id})}">
                        <img th:src="${movie.posterUrl}" alt="포스터">
                        <div th:text="${movie.title}">영화 제목</div>
                    </a>
                </div>
            </section>
        </div>
    </main>

    <footer>
        &copy; 2025 CinePointer. All Rights Reserved.
    </footer>

    <script>
      document.addEventListener( 'DOMContentLoaded', function () {
        new Splide( '#popular-slider', {
          type   : 'loop',
          perPage: 4,
          gap    : '24px',
          breakpoints: {
            900: { perPage: 2 },
            600: { perPage: 1 }
          }
        } ).mount();
      } );
    </script>
</body>
</html>
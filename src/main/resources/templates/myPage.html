<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>마이페이지 - CinePointer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/mypage.css">
</head>
<body class="bg-light">
		<div th:replace="~{fragment/header :: headerFragment}"></div>
		<main class="container mt-4 min-vh-100">
		  <div class="row">
		    <div class="col-md-9" id="mainContent">
		      <!-- mainContent 내용 -->
		    </div>
		    <div class="col-md-3" th:replace="~{fragment/sidebar2 :: sidebarFragment}"></div>
		  </div>
		</main>

	
	<!-- 공통 헤더 삽입 -->
	<div th:replace="~{fragment/footer :: footerFragment}"></div>
	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script th:if="${message != null and message != ''}">
	    alert('[[${message}]]');
	</script>


	<script th:inline="javascript">
	    let fragment = /*[[${fragment}]]*/ null;
	    console.log("현재 fragment 값:", fragment);
	    if (fragment) {
	        loadContent(fragment);
	    }
	
	    function loadContent(fragmentName) {
	        fetch('/info/' + fragmentName)
	            .then(res => res.text())
	            .then(html => {
	                document.getElementById('mainContent').innerHTML = html;
	            })
	            .catch(err => console.error('Fragment load error:', err));
	    }
	</script>

</body>
</html>
